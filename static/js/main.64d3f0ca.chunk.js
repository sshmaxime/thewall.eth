(this.webpackJsonpdapp=this.webpackJsonpdapp||[]).push([[0],{106:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function c(e){try{o(r.next(e))}catch(t){i(t)}}function s(e){try{o(r.throw(e))}catch(t){i(t)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}o((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,i,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){c.label=i[1];break}if(6===i[0]&&c.label<a[1]){c.label=a[1],a=i;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(i);break}a[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TheWallLib=void 0;var c=n(107),s=n(148),o=i(n(125)),u=function(e){var t=this;this.build=function(e,n){return r(t,void 0,void 0,(function(){var t=this;return a(this,(function(i){return[2,new Promise((function(i,c){return r(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.smartContract.build(e,n)];case 1:return[4,t.sent().wait(1)];case 2:return t.sent(),i(!0),[3,4];case 3:return t.sent(),i(!1),[3,4];case 4:return[2]}}))}))}))]}))}))},this.ready=new Promise((function(n,i){return r(t,void 0,void 0,(function(){var t,r,u,l,d;return a(this,(function(a){switch(a.label){case 0:t=e,a.label=1;case 1:return a.trys.push([1,6,,7]),e?[3,4]:(u=(r=s.ethers.providers.Web3Provider).bind,[4,o.default()]);case 2:return[4,(t=new(u.apply(r,[void 0,a.sent()]))).provider.enable()];case 3:a.sent(),a.label=4;case 4:return this.smartContract=c.TheWall__factory.connect("0x6988bbdcb343501e17e71d3c5fc86e1333fb560d",t.getSigner()),l=this,[4,t.getSigner().getAddress()];case 5:return l.address=a.sent(),[2,n()];case 6:return d=a.sent(),[2,i(d)];case 7:return[2]}}))}))}))};t.TheWallLib=u},107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheWall__factory=void 0;var r=n(108);Object.defineProperty(t,"TheWall__factory",{enumerable:!0,get:function(){return r.TheWall__factory}})},108:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TheWall__factory=void 0;var a=n(57),i=function(e){function t(t){return e.call(this,c,s,t)||this}return r(t,e),t.prototype.deploy=function(t){return e.prototype.deploy.call(this,t||{})},t.prototype.getDeployTransaction=function(t){return e.prototype.getDeployTransaction.call(this,t||{})},t.prototype.attach=function(t){return e.prototype.attach.call(this,t)},t.prototype.connect=function(t){return e.prototype.connect.call(this,t)},t.connect=function(e,t){return new a.Contract(e,c,t)},t}(a.ContractFactory);t.TheWall__factory=i;var c=[{inputs:[{internalType:"address",name:"_building",type:"address"},{internalType:"string",name:"_message",type:"string"}],name:"build",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_building",type:"address"}],name:"inspect",outputs:[{components:[{internalType:"address",name:"builder",type:"address"},{internalType:"string",name:"message",type:"string"}],internalType:"struct Brick[]",name:"_bricks",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"walls",outputs:[{internalType:"address",name:"builder",type:"address"},{internalType:"string",name:"message",type:"string"}],stateMutability:"view",type:"function"}],s="0x608060405234801561001057600080fd5b506105f1806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063065b1c3c1461004657806363a2cc251461006f578063d7de390514610084575b600080fd5b610059610054366004610402565b6100a5565b6040516100669190610541565b60405180910390f35b61008261007d366004610423565b6101bb565b005b6100976100923660046104a1565b61028a565b604051610066929190610515565b6001600160a01b038116600090815260208181526040808320805482518185028101850190935280835260609492939192909184015b828210156101af576000848152602090819020604080518082018252600286810290930180546001600160a01b031682526001808201805485516101009382161593909302600019011695909504601f8101879004870282018701909452838152919490938582019390918301828280156101975780601f1061016c57610100808354040283529160200191610197565b820191906000526020600020905b81548152906001019060200180831161017a57829003601f168201915b505050505081525050815260200190600101906100db565b5050505090505b919050565b600080846001600160a01b03166001600160a01b031681526020019081526020016000206040518060400160405280336001600160a01b0316815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920182905250939094525050835460018082018655948252602091829020845160029092020180546001600160a01b0319166001600160a01b03909216919091178155838201518051949591946102829450918501920190610358565b505050505050565b600060205281600052604060002081815481106102a357fe5b600091825260209182902060029182020180546001808301805460408051601f600019958416156101000295909501909216969096049283018790048702810187019095528185526001600160a01b039092169650919450919283018282801561034e5780601f106103235761010080835404028352916020019161034e565b820191906000526020600020905b81548152906001019060200180831161033157829003601f168201915b5050505050905082565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061039957805160ff19168380011785556103c6565b828001600101855582156103c6579182015b828111156103c65782518255916020019190600101906103ab565b506103d29291506103d6565b5090565b5b808211156103d257600081556001016103d7565b80356001600160a01b03811681146101b657600080fd5b600060208284031215610413578081fd5b61041c826103eb565b9392505050565b600080600060408486031215610437578182fd5b610440846103eb565b9250602084013567ffffffffffffffff8082111561045c578384fd5b818601915086601f83011261046f578384fd5b81358181111561047d578485fd5b87602082850101111561048e578485fd5b6020830194508093505050509250925092565b600080604083850312156104b3578182fd5b6104bc836103eb565b946020939093013593505050565b60008151808452815b818110156104ef576020818501810151868301820152016104d3565b818111156105005782602083870101525b50601f01601f19169290920160200192915050565b6001600160a01b0383168152604060208201819052600090610539908301846104ca565b949350505050565b60208082528251828201819052600091906040908185019080840286018301878501865b838110156105ad57888303603f19018552815180516001600160a01b0316845287015187840187905261059a878501826104ca565b9588019593505090860190600101610565565b50909897505050505050505056fea2646970667358221220472aeeae619516d66da438da19851af206a4858cd1b15e121ac74eee0ff9fcd264736f6c63430007030033"},110:function(e,t){},147:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(2),i=n.n(a),c=n(58),s=n.n(c),o=n(20),u=n(26),l=n(4),d=n.n(l),f=n(62),b=new(n(84).TheWallLib),p="INIT",h="FETCH_WALL_DATA",j=function(e){var t=function(e){return{type:h,payload:e}};return function(){var n=Object(f.a)(d.a.mark((function n(r,a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.t0=r,n.t1=t,n.t2=e,n.next=6,b.smartContract.inspect(e);case 6:return n.t3=n.sent,n.t4={address:n.t2,data:n.t3},n.t5=(0,n.t1)(n.t4),n.abrupt("return",(0,n.t0)(n.t5));case 12:return n.prev=12,n.t6=n.catch(0),console.log(n.t6),n.abrupt("return");case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e,t){return n.apply(this,arguments)}}()},y="LOADING_SEND_MESSAGE",x="STOP_LOADING_SEND_MESSAGE",v=n(21),g=n(54),O=n(19),m=n(56);function w(){var e=Object(o.a)(["\n  font-family: Montserrat;\n  font-size: 2em;\n  font-weight: 900;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n  cursor: pointer;\n  text-shadow: 3px 2px 0px silver;\n\n  transition-duration: 0.5s;\n\n  &:hover {\n    transform: scale(1.02);\n  }\n  font-style: ",";\n"]);return w=function(){return e},e}function _(){var e=Object(o.a)(["\n  font-family: Montserrat;\n  font-size: 1.1em;\n  color: #c1c1c1;\n  font-weight: 400;\n  letter-spacing: -1px;\n  text-align: right;\n  font-style: ",";\n"]);return _=function(){return e},e}function S(){var e=Object(o.a)(["\n  font-family: Montserrat;\n  font-size: 0.9em;\n"]);return S=function(){return e},e}function T(){var e=Object(o.a)(["\n  font-family: Montserrat;\n  font-size: 0.6em;\n  font-style: italic;\n"]);return T=function(){return e},e}var k=v.a.div(T()),M=function(e){var t=e.children;return Object(r.jsx)(k,{children:t})},C=v.a.div(S()),F=function(e){var t=e.children;return Object(r.jsx)(C,{children:t})},W=v.a.div(_(),(function(e){return e.fontStyle})),L=function(e){var t=e.children,n=e.fontStyle;return Object(r.jsx)(W,{fontStyle:n,children:t})},P=v.a.div(w(),(function(e){return e.fontStyle})),E=function(e){var t=e.children,n=e.fontStyle,a=e.onClick;return Object(r.jsx)(P,{fontStyle:n,onClick:function(){return a?a():null},children:t})};function D(){var e=Object(o.a)(["\n  cursor: pointer;\n  transition-duration: 0.5s;\n\n  height: ",";\n  &:hover {\n    transform: scale(1.05);\n  }\n"]);return D=function(){return e},e}var z=v.a.img(D(),(function(e){return e.height})),A=function(e){var t=e.icon,n=e.onClick,a=e.height,i=void 0===a?void 0:a;return Object(r.jsx)(z,{src:t,onClick:function(){return n()},height:i})},I=n.p+"static/media/search.69f7f9ea.png";function G(){var e=Object(o.a)(["\n  padding: 5px;\n  text-align: left;\n\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n\n  font-family: Montserrat;\n"]);return G=function(){return e},e}var N=v.a.div(G()),B=function(e){var t=e.value,n=e.onChange;return Object(r.jsx)(N,{children:Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)(A,{height:"30px",icon:I,onClick:function(){}}),Object(r.jsx)("div",{style:{width:"10px"}}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{style:{width:"300px",height:"100%",fontFamily:"Montserrat",fontSize:"0.7em"},type:"text",value:t,onChange:n,placeholder:"Lookup for an address ..."})}),Object(r.jsx)("div",{style:{width:"10px"}})]})})};function J(){var e=Object(o.a)(["\n  height: 50px;\n  background: linear-gradient(145deg, #f3f7ff, #f3f7ff);\n  border-radius: 0% 0% 30px 30px;\n  box-shadow: 10px 10px 5px #c1c4cf, -10px -10px 5px #ffffff;\n\n  padding: 30px;\n  padding-left: 20%;\n  padding-right: 20%;\n\n  display: flex;\n  -webkit-display: flex;\n  -moz-display: flex;\n  -ms--display: flex;\n\n  justify-content: space-between;\n"]);return J=function(){return e},e}var K=v.a.div(J()),Y={searchField:""},H=Object(O.h)((function(e){e.match;var t=Object(O.g)(),n=Object(u.c)((function(e){return e})),i=(Object(u.b)(),Object(a.useState)(Y)),c=Object(m.a)(i,2),s=c[0],o=c[1],l=n.appState.address;l||(l="0x"),l=l.substring(0,4)+"..."+l.substring(l.length-4,l.length);return Object(r.jsxs)(K,{children:[Object(r.jsx)("div",{onKeyDown:function(e){"Enter"===e.key&&(o({searchField:""}),t.push("/building/"+s.searchField))},children:Object(r.jsx)(B,{value:s.searchField,onChange:function(e){o({searchField:e.target.value})}})}),Object(r.jsx)("div",{style:{flex:1,margin:"auto",display:"flex",justifyContent:"center"},children:Object(r.jsx)(E,{onClick:function(){return t.push("/")},children:"The Wall"})}),Object(r.jsx)("div",{style:{flex:1,margin:"auto"},children:Object(r.jsx)(L,{fontStyle:"italic",children:l||"0x"})})]})}));function q(){var e=Object(o.a)(["\n  padding-left: 20%;\n  padding-right: 20%;\n"]);return q=function(){return e},e}var Q=v.a.div(q()),R=function(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(H,{}),Object(r.jsx)("div",{style:{height:"50px"}}),Object(r.jsx)(Q,{children:t})]})};function U(){var e=Object(o.a)(["\n  border-radius: 20px 20px 20px 20px;\n  background: #e3e7f3;\n  box-shadow: 10px 10px 2px #c1c4cf, -10px -10px 2px #ffffff;\n\n  padding: 20px;\n  padding-left: 20%;\n  padding-right: 20%;\n\n  font-family: Montserrat;\n  font-size: 1.5em;\n"]);return U=function(){return e},e}var V=v.a.div(U()),X=function(){Object(O.g)();var e=Object(u.c)((function(e){return e}));return e.appState.address?Object(r.jsx)(O.a,{to:"/building/"+e.appState.address}):Object(r.jsx)(R,{children:Object(r.jsx)(V,{children:"Welcome !"})})},Z=function(e){var t=e.height,n=void 0===t?10:t;return Object(r.jsx)("div",{style:{height:n}})};function $(){var e=Object(o.a)(["\n  border-radius: 20px 20px 20px 20px;\n  background: #e3e7f3;\n  box-shadow: 10px 10px 2px #c1c4cf, -10px -10px 2px #ffffff;\n\n  padding: 20px;\n  padding-left: 10%;\n  padding-right: 10%;\n\n  font-family: Montserrat;\n  font-size: 1.5em;\n"]);return $=function(){return e},e}var ee=v.a.div($()),te=function(e){var t=e.address,n=e.message;return Object(r.jsxs)(ee,{children:[Object(r.jsx)(M,{children:t}),Object(r.jsx)(Z,{}),Object(r.jsx)(F,{children:n})]})},ne=n.p+"static/media/message.a137cdff.png",re=n(72);function ae(){var e=Object(o.a)(["\n  padding: 5px;\n  text-align: left;\n\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n\n  font-family: Montserrat;\n"]);return ae=function(){return e},e}var ie=v.a.div(ae()),ce=function(e){var t=e.value,n=e.onChange;return Object(r.jsxs)(ie,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{style:{width:"300px",height:"100%",fontWeight:500,fontFamily:"Montserrat",color:"black",fontSize:"0.7em"},type:"text",value:t,onChange:n,placeholder:"Write something ..."})}),Object(r.jsx)("div",{style:{width:"10px"}})]})},se=n(91),oe=n.n(se),ue=(n(146),{message:""}),le=function(e){var t,n,i=e.match,c=Object(u.b)(),s=Object(u.c)((function(e){return e})),o=Object(a.useState)(ue),l=Object(m.a)(o,2),p=l[0],h=l[1],v=Object(a.useState)(!1),g=Object(m.a)(v,2),O=g[0],w=g[1];Object(a.useEffect)((function(){c(j(i.params.address))}),[c]);var _=s.appState.walls.get(i.params.address);_=null===(t=_)||void 0===t?void 0:t.slice().reverse();var S=i.params.address===s.appState.address;return Object(r.jsxs)(R,{children:[Object(r.jsxs)("div",{style:{fontSize:"1.3em",fontFamily:"Lato",textAlign:"center",marginBottom:"20px",textShadow:"2px 2px 0px rgba(130, 140, 255, 1)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.params.address,S?null:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(re.a.div,{animate:O?"open":"closed",variants:{open:{x:-200},closed:{x:0}},children:Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[s.appState.loadSendMessage?Object(r.jsx)(oe.a,{type:"TailSpin",color:"black",height:40,width:40}):Object(r.jsx)(A,{icon:ne,height:"75px",onClick:function(){w(!O)}}),Object(r.jsx)(re.a.div,{onKeyDown:function(e){var t,n;"Enter"===e.key&&(c((t=i.params.address,n=p.message,function(){var e=Object(f.a)(d.a.mark((function e(r,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:y,payload:{}}),e.next=4,b.build(t,n);case 4:e.sent&&(r({type:x,payload:{}}),r(j(t))),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),r({type:x,payload:{}}),console.log(e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}())),h({message:""}),w(!1))},animate:O?"open":"closed",variants:{open:{display:"block",opacity:1,x:0,y:20},closed:{display:"none",opacity:0,x:0,transition:{staggerChildren:.05,staggerDirection:-1,when:"afterChildren"}}},children:Object(r.jsx)(ce,{value:p.message,onChange:function(e){h({message:e.target.value})}})})]})})})]}),Object(r.jsx)("div",{style:{height:"20px"}}),_&&_.map((function(e,t){return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(te,{address:e.builder,message:e.message}),Object(r.jsx)(Z,{height:50})]},t)})),0===(null===(n=_)||void 0===n?void 0:n.length)?S?Object(r.jsx)("div",{style:{fontFamily:"Montserrat"},children:"You don't have any message :("}):Object(r.jsx)("div",{style:{fontFamily:"Montserrat"},children:"Your friend doesn't have any message :( send him one !"}):null]})};function de(){var e=Object(o.a)(["\n  min-height: 100vh;\n  background: linear-gradient(145deg, #dfe3f0, #bbbfca);\n"]);return de=function(){return e},e}var fe=function(){return Object(r.jsx)("div",{children:"Error"})},be=function(){return Object(r.jsx)("div",{children:"Loading"})},pe=v.a.div(de()),he=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e}));return Object(a.useEffect)((function(){e(function(){var e=function(e){return{type:p,payload:e}};return function(){var t=Object(f.a)(d.a.mark((function t(n,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.ready;case 3:return t.abrupt("return",n(e({ready:1,address:b.address})));case 6:return t.prev=6,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",n(e({ready:-1,address:""})));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()}())}),[e]),0===t.appState.ready?Object(r.jsx)(be,{}):-1===t.appState.ready?Object(r.jsx)(fe,{}):Object(r.jsx)(g.a,{basename:"",children:Object(r.jsx)(pe,{children:Object(r.jsxs)(O.d,{children:[Object(r.jsx)(O.b,{path:"/building/:address",component:le}),Object(r.jsx)(O.b,{path:"/",component:X})]})})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,152)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},ye=n(47),xe=n(92),ve=n(40),ge=Object(ye.c)({appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ready:0,address:"",loadSendMessage:!1,walls:new Map},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(ve.a)(Object(ve.a)({},e),{},{ready:t.payload.ready,address:t.payload.address});case h:return e.walls.set(t.payload.address,t.payload.data),Object(ve.a)(Object(ve.a)({},e),{},{walls:e.walls});case y:return Object(ve.a)(Object(ve.a)({},e),{},{loadSendMessage:!0});case x:return Object(ve.a)(Object(ve.a)({},e),{},{loadSendMessage:!1});default:return Object(ve.a)({},e)}}}),Oe=Object(ye.d)(ge,Object(ye.a)(xe.a));n(147);s.a.render(Object(r.jsx)(u.a,{store:Oe,children:Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(he,{})})}),document.getElementById("root")),je()},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheWallLib=void 0;var r=n(106);Object.defineProperty(t,"TheWallLib",{enumerable:!0,get:function(){return r.TheWallLib}})}},[[149,1,2]]]);
//# sourceMappingURL=main.64d3f0ca.chunk.js.map